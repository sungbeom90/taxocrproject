<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="static/css/graph.css">
  <title>Expenditure DashBoard</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <!-- chart.js -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
</head>

<body>
    <center>
    <div class='outbox'>
        <div class='container2'>
            <div class='companyname'>
                <h1>Expenditure DashBoard</h1>
            </div>
            <div class='misoo'>
                <div class="shadow-lg p-4 mb-4 bg-white rounded">
                    <h2 class='text-danger'>{{misoo}}원</h2>
                    <small>빨리 갚아야해요*.*</small><br>
                    <small>근데 이거 언제의 미수금임?</small>
                </div>
            </div>
            <div class='dougnut'>
                <div class="shadow-lg p-4 mb-4 bg-white rounded">
                    <h5>거래량 top6 회사 그래프</h5>
                    <canvas id="myChart" width="400" height="350"></canvas>
                    <script>
                        var ctx = document.getElementById('myChart');
                        const doughnutdata = {
                                labels: {{labels|tojson}},
                                datasets: [{
                                    label: '거래 총액(만원)',
                                    data: {{data|tojson}},
                                    backgroundColor: [
                                        'rgba(255, 99, 132, 0.2)',
                                        'rgba(54, 162, 235, 0.2)',
                                        'rgba(255, 206, 86, 0.2)',
                                        'rgba(75, 192, 192, 0.2)',
                                        'rgba(153, 102, 255, 0.2)',
                                        'rgba(255, 159, 64, 0.2)'
                                    ],
                                    hoverOffset:4
                                }]
                            };
                        var myChart = new Chart(ctx, {
                            type: 'doughnut',
                            data: doughnutdata
                        });
                    </script>
                </div>
            </div>
        </div>

        <div class='container1'>
            <div class='line'>
                <div class="shadow-lg p-4 mb-4 bg-white rounded" >
                    <h5>월별 거래금액</h5>
                    <canvas id="myLineChart" width="400" height="250"></canvas>
                    <script>
                        var ctx = document.getElementById('myLineChart');
                        const labels = ['1월','2월','3월','4월','5월','6월',
                                        '7월','8월','9월','10월','11월','12월'];
                        const linedata = {
                            labels: labels,
                            datasets: [{
                                label: '월별 거래 금액',
                                data: {{data2|tojson}},
                                fill: false,
                                borderColor: 'rgb(75, 192, 192)',
                                tension: 0.1
                            }]
                        };
                        var myLineChart = new Chart(ctx, {
                            type: 'line',
                            data: linedata,
                            options: {
                                responsive: false,
                                scales: {
                                    yAxes:[{
                                        scaleLabel: {
                                        display: true,
                                        labelString: '거래 총액(만원)'
                                    },
                                        ticks: {
                                            beginAtZero: true
                                        }
                                    }]
                                },
                            }
                        });
                    </script>
                </div>
            </div>

            <div class='bubble'>
                <!-- 산점도 그래프를 그릴 것이다. -->
                <div class="shadow-lg p-4 mb-4 bg-white rounded">
                    <h5>회사·월별 거래 횟수 *보류임*</h5>
                    <canvas id="myBubbleChart" width="400" height="250"></canvas>
                    <script>
                         var ctx = document.getElementById('myBubbleChart');
                         const bubbledata = {
                            datasets: [{
                                label: 'First Dataset',
                                data: [{
                                x: 20,
                                y: 30,
                                r: 15
                                }, {
                                x: 40,
                                y: 10,
                                r: 10
                                }],
                                backgroundColor: 'rgb(255, 99, 132)'
                            }]
                        };

                        var myBubbleChart = new Chart(ctx, {
                            type: 'bubble',
                            data: bubbledata,
                            options: {}
                        });

                    </script>

                </div>
                
            </div>
        </div>
    </div>
    </center>

</body>
</html>